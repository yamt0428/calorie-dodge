#   
# カロリー版つもり貯金アプリ 要件定義書  
  
## 1. プロジェクト概要  
  
### 1.1 アプリ名（仮）  
  
**カロリーつもり貯金** / **カロリーセーブ**  
  
### 1.2 目的  
  
誘惑に負けずに高カロリー食品を買わなかった際に、そのカロリーを記録することで、健康意識の向上とモチベーション維持を図るアプリ  
  
### 1.3 ターゲットユーザー  
  
- ダイエットや健康管理に関心がある人  
- 誘惑に勝った実感を可視化したい人  
- ゲーミフィケーション要素でモチベーションを維持したい人  
  
-----  
  
## 2. 技術スタック  
  
### 2.1 開発環境  
  
- **フレームワーク**: Flutter  
- **対応プラットフォーム**: iOS / Android 両対応  
- **データ保存**: ローカルストレージのみ（SQLite / Hive / Shared Preferences）  
  
### 2.2 デザイン方針  
  
- GitHubライクなシンプルで洗練された色使い  
- ミニマルなUI/UX  
- データの可視化を重視  
  
-----  
  
## 3. 機能要件  
  
### 3.1 記録機能  
  
#### 3.1.1 カロリー記録  
  
**必須項目**  
  
- カロリー数値（数値入力）  
  
**任意項目**  
  
- 商品名/メモ（テキスト入力）  
- 時間帯（自動記録、編集可能）  
  
**記録方法**  
  
- 「買わなかった瞬間」にすぐ記録できる簡易入力UI  
- メイン画面からワンタップで記録画面へ遷移  
  
#### 3.1.2 データ編集・削除機能  
  
- 過去の記録の編集（カロリー、商品名/メモ、時間帯の変更）  
- 過去の記録の削除  
- 誤入力時の即座な修正が可能  
  
-----  
  
### 3.2 ホーム画面（メイン画面）  
  
表示要素：  
  
1. **今日の回避カロリー**（大きく表示）  
1. **累計回避カロリー**  
1. **カレンダー表示**（GitHub風のヒートマップ）  
1. **すぐ記録できるボタン**（フローティングボタンなど）  
  
-----  
  
### 3.3 カレンダー表示機能  
  
#### 3.3.1 GitHubスタイルのヒートマップ  
  
- 日ごとの回避カロリー量に応じて色の濃淡を表示  
- 直近の数ヶ月分を表示  
- タップでその日の詳細を表示  
  
#### 3.3.2 色の濃淡基準（例）  
  
- 0 kcal: グレー（薄い）  
- 1-300 kcal: 緑（薄い）  
- 301-600 kcal: 緑（中）  
- 601-1000 kcal: 緑（濃い）  
- 1001 kcal以上: 緑（最も濃い）  
  
-----  
  
### 3.4 グラフ・統計機能  
  
#### 3.4.1 グラフ表示  
  
1. **日別・週別・月別の推移グラフ**  
- 折れ線グラフまたは棒グラフ  
- 期間切り替え可能  
  
#### 3.4.2 統計情報  
  
- 総記録回数  
- 最も記録の多い時間帯（朝/昼/夜など）  
- 平均回避カロリー（1日あたり、1回あたり）  
- 最高記録（1日の最大回避カロリー）  
  
-----  
  
### 3.5 目標設定機能  
  
#### 3.5.1 期間ベースの目標  
  
- 1週間/1ヶ月で○○kcal回避  
- 進捗状況をパーセンテージで表示  
- 達成時に通知・バッジ付与  
  
#### 3.5.2 継続系の目標  
  
- 連続○日記録  
- 最長連続記録日数の表示  
- 記録が途切れた場合のリセット  
  
-----  
  
### 3.6 達成バッジ機能  
  
#### 3.6.1 バッジの種類  
  
**累計カロリーバッジ**  
  
- 1,000 kcal回避  
- 5,000 kcal回避  
- 10,000 kcal回避  
- 30,000 kcal回避  
- 50,000 kcal回避  
  
**連続記録日数バッジ**  
  
- 3日連続  
- 7日連続  
- 14日連続  
- 30日連続  
- 100日連続  
  
**記録回数バッジ**  
  
- 10回記録  
- 50回記録  
- 100回記録  
- 300回記録  
- 500回記録  
  
#### 3.6.2 バッジ表示  
  
- 獲得済みバッジ一覧画面  
- 未獲得バッジは条件とともにグレーで表示  
- 新規獲得時はポップアップで通知  
  
-----  
  
### 3.7 SNSシェア機能  
  
#### 3.7.1 シェア可能なコンテンツ  
  
1. **週間達成報告**  
- 「今週○○kcal回避達成！」  
- テキスト + 画像形式  
1. **達成バッジ取得**  
- バッジ画像 + 達成内容  
1. **カレンダー画像**  
- ヒートマップのスクリーンショット  
- 累計データを含む画像生成  
  
#### 3.7.2 シェア先  
  
- Twitter / X  
- Instagram（画像として）  
- LINE  
- その他（OSの標準シェア機能を利用）  
  
-----  
  
## 4. 画面構成  
  
### 4.1 画面一覧  
  
1. **ホーム画面**  
- 今日の回避カロリー  
- 累計カロリー  
- カレンダー表示  
- 記録ボタン  
1. **記録入力画面**  
- カロリー入力（必須）  
- 商品名/メモ入力（任意）  
- 時間帯表示（自動、編集可能）  
- 保存ボタン  
1. **統計・グラフ画面**  
- 期間別推移グラフ  
- 統計情報表示  
- 記録一覧  
1. **目標設定画面**  
- 期間ベース目標設定  
- 継続系目標表示  
- 進捗状況  
1. **バッジ画面**  
- 獲得済みバッジ一覧  
- 未獲得バッジと条件  
1. **記録編集・削除画面**  
- 過去の記録一覧  
- 編集・削除機能  
1. **設定画面**  
- 通知設定  
- データのバックアップ/復元（オプション）  
- アプリ情報  
  
-----  
  
## 5. データ構造  
  
### 5.1 記録データ（Record）  
  
```dart  
{  
  id: string (UUID),  
  calories: int (必須),  
  memo: string (任意),  
  timestamp: DateTime (自動記録、編集可能),  
  createdAt: DateTime,  
  updatedAt: DateTime  
}  
```  
  
### 5.2 目標データ（Goal）  
  
```dart  
{  
  id: string,  
  type: string (period / streak),  
  targetValue: int,  
  period: string (weekly / monthly),  
  startDate: DateTime,  
  endDate: DateTime,  
  isActive: bool  
}  
```  
  
### 5.3 バッジデータ（Badge）  
  
```dart  
{  
  id: string,  
  name: string,  
  type: string (calories / streak / count),  
  threshold: int,  
  isUnlocked: bool,  
  unlockedAt: DateTime  
}  
```  
  
-----  
  
## 6. 非機能要件  
  
### 6.1 パフォーマンス  
  
- アプリ起動時間: 2秒以内  
- 記録保存: 即座に完了  
- グラフ描画: スムーズなアニメーション  
  
### 6.2 ユーザビリティ  
  
- 直感的な操作性  
- 最小限のタップ数で記録完了  
- エラーメッセージは分かりやすく  
  
### 6.3 データ管理  
  
- ローカルストレージのみ使用  
- データ損失を防ぐための定期的な自動保存  
- 可能であればデータのエクスポート/インポート機能  
  
-----  
  
## 7. 開発フェーズ（参考）  
  
### Phase 1: コア機能実装  
  
- 記録機能  
- ホーム画面  
- カレンダー表示  
- 基本的な統計  
  
### Phase 2: モチベーション機能  
  
- グラフ表示（詳細）  
- 目標設定  
- 達成バッジ  
  
### Phase 3: シェア機能  
  
- SNSシェア  
- 画像生成  
  
### Phase 4: 最適化・改善  
  
- UI/UXの改善  
- パフォーマンス最適化  
- バグ修正  
  
-----  
  
## 8. 将来的な拡張案（オプション）  
  
- クラウド同期機能（Firebase等）  
- ユーザー登録・ログイン  
- 友達との比較・競争機能  
- ウィジェット対応  
- Apple Watch / Wear OS対応  
- リマインダー通知（「今日まだ記録していませんよ」）  
  
-----  
  
## 9. リポジトリ名候補  
  
1. `calorie-resist` ⭐️ おすすめ  
1. `calorie-save`  
1. `skip-cal`  
1. `resist-track`  
1. `temptation-tracker`  
1. `calorie-dodge`  
1. `didnt-eat-app`  
  
-----  
  
**作成日**: 2026年1月19日    
**バージョン**: 1.0  
